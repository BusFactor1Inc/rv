(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(31)},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),i=n(14),c=n.n(i),u=n(6),l=(n(29),n(1)),s=n(2),p=n(4),h=n(3),d=n(5),f=(n(30),function(e){return{type:"IS_LOADING",isLoading:e}}),m=function(e){return{type:"HAS_ERRORED",hasErrored:e}},b=function(e){return{type:"POSTS",posts:e}},v=function(e){return{type:"NAME",name:e}},O=function(e){return{type:"BEFORE",before:e}},E=function(e){return{type:"AFTER",after:e}},j=function(e){return{type:"NEW_POSTS",newPosts:e}},w=function(e){return{type:"VIEW",view:e}};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"news",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"New",n=arguments.length>2?arguments[2]:void 0;return function(a){console.log("Fetching posts: "+e,t,n),a(w(t)),a(E(null)),a(f(!0)),a(m(!1)),a(j(!1));var o=document.getElementById("view");if(t)o.value=t;else{var i=o.value;a(w(i))}fetch("/subreddit?name="+e+(t?"&view="+t:"")+(n?"&after="+n:"")).then(function(e){if(!e.ok)throw new Error(e.statusText);return a(f(!1)),e}).then(function(e){return e.json()}).then(function(o){console.log("Data action",o.data),a(v(e)),a(w(t)),a(E(o.data.after)),a(b(o.data.children)),r&&clearInterval(r),r=setInterval(function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"New",n=arguments.length>2?arguments[2]:void 0;return function(r){console.log("Refreshing posts: "+e,t,n);var a="/subreddit?name="+e+(t?"&view="+t:"")+(n?"&before="+n:"")+"&limit=1";fetch(a).then(function(e){if(!e.ok)throw new Error(e.statusText);return e}).then(function(e){return e.json()}).then(function(e){console.log("Data action",e.data),e.data.after!==n&&r(j(!0))}).catch(function(e){console.log("Loding Error:"+e),r(m(!0))})}}(e,t,n)(a)},6e4)}).catch(function(e){console.log("Loding Error:"+e),a(m(!0)),a(E(null)),a(O(null)),a(b([]))})}}var y=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onClick",value:function(){var e=document.getElementById("name"),t=document.getElementById("view");this.props.loadData(e.value,t.value)}},{key:"render",value:function(){return o.a.createElement("input",{id:"LoadButton",type:"button",value:"Load",onClick:this.onClick.bind(this)})}}]),t}(a.Component),k=Object(u.b)(function(e){return{}},function(e){return{loadData:function(t,n,r){e(g(t,n,r))}}})(y),C=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onKeyDown",value:function(e){"Enter"===e.key&&document.getElementById("LoadButton").click()}},{key:"render",value:function(){return o.a.createElement("input",{id:"name",type:"text",placeholder:this.props.name,onKeyDown:this.onKeyDown.bind(this)})}}]),t}(a.Component),N=Object(u.b)(function(e){return{name:e.name}})(C),D=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onClick",value:function(){console.log("after",this.props.after),this.props.loadData(this.props.name,this.props.view)}},{key:"render",value:function(){return o.a.createElement("input",{type:"button",value:"Reload"+(this.props.newPosts?"(New Posts)":""),onClick:this.onClick.bind(this)})}}]),t}(a.Component),S=Object(u.b)(function(e){return{name:e.name,after:e.after,view:e.view,newPosts:e.newPosts}},function(e){return{loadData:function(t,n,r){e(g(t,n,r))}}})(D),P=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onClick",value:function(){console.log("after",this.props.after),this.props.loadData(this.props.name,this.props.view,this.props.after)}},{key:"render",value:function(){return o.a.createElement("input",{type:"button",value:"Next 25 posts",onClick:this.onClick.bind(this)})}}]),t}(a.Component),L=Object(u.b)(function(e){return{name:e.name,after:e.after,view:e.view,newPosts:e.newPosts}},function(e){return{loadData:function(t,n,r){e(g(t,n,r))}}})(P),I=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("span",null,o.a.createElement(S,null)," \xa0",o.a.createElement(L,null))}}]),t}(a.Component),R=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e;return this.props.name&&(e="/r/"+this.props.name),!this.props.hasErrored&&this.props.posts.length>0?o.a.createElement("div",{className:"Subreddit"},o.a.createElement("span",null,this.props.view)," \xa0",o.a.createElement("a",{href:"https://reddit.com"+e,target:"_blank",rel:"noopener noreferrer"},e)," \xa0",o.a.createElement(I,null),o.a.createElement("hr",null)):o.a.createElement("span",null)}}]),t}(a.Component),T=Object(u.b)(function(e){return{posts:e.posts,name:e.name,view:e.view,hasErrored:e.hasErrored}},function(e){return{}})(R);var A=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"PostInfo"},o.a.createElement("span",null,"Author: ",this.props.author)," \xa0",o.a.createElement("span",null,"Date: ",function(e){var t=new Date(1e3*e),n=t.getFullYear();return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getDate()+" "+n+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}(this.props.time))," \xa0",o.a.createElement("a",{href:"https://reddit.com/"+this.props.comments,target:"_blank",rel:"noopener noreferrer"},"Comments"))}}]),t}(a.Component),B=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e;return this.props.thumbnail.startsWith("http")&&(e=o.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{className:"Thumbnail",src:this.props.thumbnail,width:"42px",alt:"Thumbnail"}))),o.a.createElement("div",{className:"PostLink"},e,o.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer"},this.props.title))}}]),t}(a.Component),_=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.data||{id:0,title:"Unknown",url:"http://",thumbnail:"",author:"Unknown",permalink:"http://",time:"0"};return o.a.createElement("div",{key:e.id,className:"Post"},o.a.createElement(B,{title:e.title,url:e.url,thumbnail:e.thumbnail}),o.a.createElement(A,{author:e.author,comments:e.permalink,time:e.created_utc}))}}]),t}(a.Component),x=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.isLoading?o.a.createElement("span",null,"Loading..."):this.props.hasErrored?o.a.createElement("span",null,"Loading error; likely the Subreddit does not exist."):this.props.posts.length>0?this.props.posts.map(function(e,t){return o.a.createElement(_,{key:t,data:e.data})}):o.a.createElement("span",null,"Please enter a Subreddit name above to view its posts.")}}]),t}(a.Component),F=Object(u.b)(function(e){return{posts:e.posts,isLoading:e.isLoading,hasErrored:e.hasErrored,name:e.name}},function(e){return{}})(x),W=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("select",{id:"view"},o.a.createElement("option",{value:"Top"},"Top"),o.a.createElement("option",{value:"New"},"New"),o.a.createElement("option",{value:"Hot"},"Hot"))}}]),t}(a.Component),M=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"TopBar"},"SubReddit Viewer (sv): \xa0",o.a.createElement(N,null)," \xa0",o.a.createElement(k,null)," \xa0",o.a.createElement(W,null))}}]),t}(a.Component),H=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("hr",null),o.a.createElement(M,null),o.a.createElement("hr",null),o.a.createElement("center",null,o.a.createElement(T,null),o.a.createElement(F,null),o.a.createElement("hr",null),o.a.createElement(T,null),"Burton Samograd - 2019"))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(7),K=n(17);var V=Object(J.c)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_LOADING":return t.isLoading;default:return e}},hasErrored:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAS_ERRORED":return t.hasErrored;default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS":return t.posts;default:return e}},name:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NAME":return t.name;default:return e}},before:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BEFORE":return t.before;default:return e}},after:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AFTER":return t.after;default:return e}},newPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_POSTS":return t.newPosts;default:return e}},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"new",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VIEW":return t.view;default:return e}}}),G=Object(J.d)(V,Object(J.a)(K.a));c.a.render(o.a.createElement(u.a,{store:G},o.a.createElement(H,null)),document.getElementById("root")),g()(G.dispatch),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.815f1568.chunk.js.map